{"version":3,"sources":["lib/reactt.ts","lib/reactt-dom.ts","lib/reactnt.tsx","components/ui/Button.tsx","components/ui/InputText.tsx","components/ui/Select.tsx","components/auth/Auth/Auth.tsx","components/auth/Auth/AuthContainer.tsx","components/auth/Auth/index.ts","App.tsx","index.tsx"],"names":[],"mappings":"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","file":"src.25a00d41.js","sourceRoot":"../src","sourcesContent":["// import React from 'react';\n\nconst DEFAULT_TAG = 'div';\nlet $renderingComponent: VirtualElementComponent;\n\nexport type Props = Record<string, any>;\nexport type FC<P extends Props = any> = (props: P) => VirtualElementComponent;\n\nexport enum VirtualElementTypesEnum {\n  Tag,\n  Component,\n}\n\nexport interface VirtualElementTag {\n  type: VirtualElementTypesEnum.Tag,\n  tag: string,\n  props: Props,\n  children: VirtualElementChildren,\n}\n\ninterface State {\n  cursor: number,\n  store: {\n    value: any,\n    setter: Function\n  }[],\n}\n\nexport interface VirtualElementComponent extends Omit<VirtualElementTag, 'type'> {\n  type: VirtualElementTypesEnum.Component,\n  name: string,\n  state: State,\n  forceUpdate: Function,\n  onUpdate?: Function,\n}\n\nexport type VirtualElement = VirtualElementTag | VirtualElementComponent;\nexport type VirtualElementChild = string | VirtualElementTag | VirtualElementComponent;\ntype VirtualElementChildOrEmpty = VirtualElementChild | undefined;\nexport type VirtualElementChildren = VirtualElementChildOrEmpty[];\n// Fix for default JSX type error.\nexport type JsxChildren = VirtualElementChildren | VirtualElementChild;\n\nexport function isStringElement(object: VirtualElementChildOrEmpty): object is string {\n  return typeof object === 'string';\n}\n\nexport function isTagElement(object: VirtualElementChildOrEmpty): object is VirtualElementTag {\n  return typeof object === 'object' && object.type === VirtualElementTypesEnum.Tag;\n}\n\nexport function isComponentElement(object: VirtualElementChildOrEmpty): object is VirtualElementComponent {\n  return typeof object === 'object' && object.type === VirtualElementTypesEnum.Component;\n}\n\nfunction createElement(\n  tag: string | Function = DEFAULT_TAG,\n  props: Props,\n  ...children: any[]\n): VirtualElement {\n  if (typeof tag === 'function') {\n    const $element: VirtualElementComponent = {\n      type: VirtualElementTypesEnum.Component,\n      tag: DEFAULT_TAG, // TODO Try to remove.\n      name: tag.name,\n      props: props !== null ? props : {},\n      children: [],\n      state: {\n        cursor: 0,\n        store: [],\n      },\n      forceUpdate: (props?: Props) => {\n        if (props) {\n          $element.props = props;\n        }\n\n        if ($element.onUpdate) {\n          $element.onUpdate({\n            ...$element,\n            children: [renderComponent($element, tag, children)],\n          });\n        }\n      },\n    };\n\n    $element.children = [renderComponent($element, tag, children)];\n\n    return $element;\n  }\n\n  const childrenArray = Array.isArray(children[0]) ? children[0] : children;\n\n  return {\n    type: VirtualElementTypesEnum.Tag,\n    tag,\n    props: props !== null ? props : {},\n    children: childrenArray.map((child): VirtualElementChild | undefined => {\n      if (typeof child === 'object') {\n        return child;\n      } else if (child === false) {\n        // Support for `&&` operator.\n        return undefined;\n      } else {\n        return String(child);\n      }\n    }),\n  };\n}\n\nfunction renderComponent($element: VirtualElementComponent, tag: Function, children: VirtualElementChildren) {\n  $renderingComponent = $element;\n  $renderingComponent.state.cursor = 0;\n\n  return tag({\n    ...$element.props,\n    children,\n  });\n}\n\nexport function useState(initial: any) {\n  const { cursor, store } = $renderingComponent.state;\n\n  if (typeof store[cursor] === 'undefined') {\n    store[cursor] = {\n      value: initial,\n      setter: (($component) => (newValue: any) => {\n        if (store[cursor].value !== newValue) {\n          store[cursor].value = newValue;\n          $component.forceUpdate();\n        }\n      })($renderingComponent),\n    };\n  }\n\n  return [\n    store[cursor].value,\n    store[cursor].setter,\n  ];\n}\n\nexport default {\n  createElement,\n};\n//\n// export default React;\n\n","import {\n  isComponentElement, isStringElement, isTagElement,\n  VirtualElement,\n  VirtualElementChild,\n  VirtualElementComponent,\n} from './reactt';\n\nlet $currentRoot: VirtualElementComponent | undefined;\n\nfunction render($element: VirtualElement, parentEl: HTMLElement | null) {\n  if (!parentEl) {\n    return;\n  }\n\n  renderWithVirtual(parentEl, 0, $currentRoot, $element, true);\n}\n\nfunction renderWithVirtual(\n  parentEl: HTMLElement,\n  childIndex: number,\n  $current?: VirtualElementChild,\n  $new?: VirtualElementChild,\n  isRoot: boolean = false,\n) {\n  if (isComponentElement($new)) {\n    $new.onUpdate = ($updated: VirtualElementComponent) => {\n      renderChildren($new, $updated, parentEl.childNodes[childIndex] as HTMLElement);\n      $new.children = $updated.children;\n    };\n  }\n\n  const currentEl = parentEl.childNodes[childIndex];\n\n  if (!$current && $new) {\n    parentEl.appendChild(createHTMLElement($new));\n  } else if ($current && !$new) {\n    parentEl.removeChild(currentEl);\n  } else if ($current && $new) {\n    if (hasElementChanged($current, $new)) {\n      parentEl.replaceChild(createHTMLElement($new), currentEl);\n    } else {\n      renderChildren($current, $new, currentEl as HTMLElement);\n    }\n  }\n\n  if (isRoot) {\n    $currentRoot = $new as VirtualElementComponent;\n  }\n}\n\nfunction renderChildren($current: VirtualElementChild, $new: VirtualElementChild, currentEl: HTMLElement) {\n  const currentLength = !isStringElement($current) ? $current.children.length : 0;\n  const newLength = !isStringElement($new) ? $new.children.length : 0;\n  const maxLength = Math.max(currentLength, newLength);\n\n  for (let i = 0; i < maxLength; i++) {\n    renderWithVirtual(\n      currentEl,\n      i,\n      !isStringElement($current) ? $current.children[i] : undefined,\n      !isStringElement($new) ? $new.children[i] : undefined,\n    );\n  }\n}\n\nfunction hasElementChanged($old: VirtualElementChild, $new: VirtualElementChild) {\n  if (typeof $old !== typeof $new) {\n    return true;\n  } else if (isStringElement($old) && isStringElement($new)) {\n    return $old !== $new;\n  } else if (!isStringElement($old) && !isStringElement($new)) {\n    return $old.tag !== $new.tag;\n  }\n}\n\nfunction createHTMLElement($element: VirtualElementChild) {\n  if (isStringElement($element)) {\n    return document.createTextNode($element);\n  }\n\n  const { tag, props, children = [] } = $element;\n  const element = document.createElement(tag);\n\n  if (isTagElement($element)) {\n    Object.keys(props).forEach((key) => {\n      if (key === 'className') {\n        element.className = props[key];\n      } else if (key.startsWith('on')) {\n        element.addEventListener(key.replace(/^on/, '').toLowerCase(), props[key], false);\n\n        if (key === 'onChange') {\n          setupAdditionalOnChangeHandlers(element, props[key]);\n        }\n      } else {\n        element.setAttribute(key, props[key]);\n      }\n    });\n  }\n\n  children.forEach(($child, i) => {\n    renderWithVirtual(element, i, undefined, $child);\n  });\n\n  return element;\n}\n\nfunction setupAdditionalOnChangeHandlers(element: HTMLElement, handler: EventHandlerNonNull) {\n  element.addEventListener('input', handler);\n  element.addEventListener('paste', handler);\n}\n\nexport default { render };\n","import React, { FC, Props, VirtualElementComponent } from './reactt';\n\nexport interface GlobalState {\n  isInitialized: boolean;\n}\n\ntype DispatchMap = Record<string, Function>;\n\ninterface Container {\n  component?: VirtualElementComponent;\n  ownProps?: Props,\n  mappedProps?: Props,\n  onGlobalStateUpdate?: Function,\n}\n\nconst INITIAL_STATE = {\n  isInitialized: false,\n};\n\nlet global: GlobalState = INITIAL_STATE;\n\nconst reducers: Record<string, Function> = {};\nconst dispatch: DispatchMap = {};\nconst containers: Container[] = [];\n\nexport function setGlobal() {\n}\n\nexport function onDispatch(name: string) {\n  if (reducers[name]) {\n    global = reducers[name](global);\n  }\n\n  // TODO throttle\n  containers.forEach((c) => c.onGlobalStateUpdate && c.onGlobalStateUpdate(global));\n}\n\nexport function addReducer(name: string, reducer: Function) {\n  reducers[name] = reducer;\n  dispatch[name] = () => {\n    onDispatch(name);\n  };\n}\n\nexport function withGlobal(\n  mapStateToProps: (global: GlobalState) => Partial<GlobalState>,\n  mapReducersToProps: (setGlobal: Function, dispatch: DispatchMap) => Record<string, Function>,\n) {\n  return (Component: FC) => {\n    const container: Container = {\n      onGlobalStateUpdate: (global: GlobalState) => {\n        const newMappedProps = {\n          ...mapStateToProps(global),\n          ...mapReducersToProps(setGlobal, dispatch),\n        };\n\n        if (\n          container.component && (\n            !arePropsShallowEqual(container.mappedProps || {}, newMappedProps)\n          )) {\n          container.mappedProps = newMappedProps;\n          container.component.forceUpdate({\n            ...container.ownProps,\n            ...container.mappedProps,\n          });\n        }\n      },\n    };\n\n    containers.push(container);\n\n    return (props: Props) => {\n      container.ownProps = props;\n\n      if (!container.mappedProps) {\n        container.mappedProps = {\n          ...mapStateToProps(global),\n          ...mapReducersToProps(setGlobal, dispatch),\n        };\n      }\n\n      if (!container.component) {\n        container.component = <Component {...container.mappedProps} {...props} />;\n      }\n\n      return container.component;\n    };\n  };\n}\n\nfunction arePropsShallowEqual(currentProps: Props, newProps: Props) {\n  const currentKeys = Object.keys(currentProps);\n  const currentKeysLength = currentKeys.length;\n  const newKeysLength = Object.keys(newProps).length;\n\n  if (currentKeysLength !== newKeysLength) {\n    return false;\n  }\n\n  return currentKeys.every((prop) => currentProps[prop] === newProps[prop]);\n}\n","import { MouseEvent } from 'react';\n\nimport React, { FC, JsxChildren } from '../../lib/reactt';\nimport './Button.scss';\n\ntype OnClickHandler = (e: MouseEvent<HTMLButtonElement>) => void;\n\ninterface IProps {\n  onClick: Function\n  children: JsxChildren,\n}\n\nconst Button: FC<IProps> = ({ onClick, children }: IProps) => {\n  return (\n    <button className=\"Button\" onClick={onClick as OnClickHandler}>{children}</button>\n  );\n};\n\nexport default Button;\n","import { ChangeEvent } from 'react';\nimport React, { FC } from '../../lib/reactt';\n\nimport './InputText.scss';\n\ninterface IProps {\n  onChange: (e: ChangeEvent<HTMLInputElement>) => void,\n  placeholder: string,\n}\n\nconst InputText: FC<IProps> = ({ onChange, placeholder }: IProps) => {\n  return (\n    <input className=\"InputText\" type=\"text\" onChange={onChange} placeholder={placeholder} />\n  );\n};\n\nexport default InputText;\n","import { ChangeEvent } from 'react';\nimport React, { FC, JsxChildren } from '../../lib/reactt';\n\nimport './Select.scss';\n\ninterface IProps {\n  onChange?: (e: ChangeEvent<HTMLSelectElement>) => void,\n  name?: string,\n  children: JsxChildren,\n}\n\nconst Select: FC<IProps> = ({ onChange, name, children }: IProps) => {\n  return (\n    <select className='Select' name={name} onChange={onChange}>\n      {children}\n    </select>\n  );\n};\n\nexport default Select;\n","import { ChangeEvent } from 'react';\n\nimport React, { FC, Props, useState, VirtualElementComponent } from '../../../lib/reactt';\nimport Button from '../../ui/Button';\nimport './Auth.scss';\nimport InputText from '../../ui/InputText';\nimport Select from '../../ui/Select';\n\ninterface IProps extends Props{\n  isInitialized: boolean;\n  signIn: Function;\n  signOut: Function;\n}\n\nconst Auth: FC<IProps> = ({ signIn, signOut, isInitialized }: IProps): VirtualElementComponent => {\n  const [isButtonShown, setIsButtonShown] = useState(false);\n\n  function onPhoneNumberChange(e: ChangeEvent<HTMLInputElement>) {\n    const target = e.target;\n\n    target.value = target.value.replace(/[^\\d]+/, '');\n\n    setIsButtonShown(target.value.length === 10);\n  }\n\n  return (\n    <div id=\"sign-in-form\">\n      <div id=\"logo\" />\n      <h2>Sign in to Telegram</h2>\n      <div className=\"note\">\n        Please confirm your country and\n        <br />enter phone number\n      </div>\n      <div>\n        <Select>\n          <option value=\"0\">Russia +7</option>\n        </Select>\n      </div>\n      <div>\n        <InputText placeholder=\"Phone Number\" onChange={onPhoneNumberChange} />\n      </div>\n      <div>\n        {isInitialized ? (\n          <div>\n            INITIALIZED!\n            <Button onClick={signOut}>BACK</Button>\n          </div>\n        ) : (\n          isButtonShown && (\n            <Button onClick={signIn}>NEXT</Button>\n          )\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n","import { addReducer, withGlobal, GlobalState } from '../../../lib/reactnt';\n\nimport Auth from './Auth';\n\naddReducer('signIn', (state: GlobalState) => {\n  console.log('START SIGN IN');\n\n  return ({\n    ...state,\n    isInitialized: true,\n  });\n});\n\naddReducer('signOut', (state: GlobalState) => {\n  console.log('START SIGN OUT');\n\n  return ({\n    ...state,\n    isInitialized: false,\n  });\n});\n\nconst AuthContainer = withGlobal(\n  global => {\n    const { isInitialized } = global;\n    return { isInitialized };\n  },\n  (setGlobal, dispatch) => ({\n    signIn: () => {\n      dispatch.signIn();\n    },\n    signOut: () => {\n      dispatch.signOut();\n    },\n  }),\n)(Auth);\n\nexport default AuthContainer;\n","export { default } from './AuthContainer';\n","import React from './lib/reactt';\nimport Auth from './components/auth/Auth';\n\nexport default () => {\n  return <Auth />;\n};\n","import React from './lib/reactt';\nimport ReacttDOM from './lib/reactt-dom';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './global.scss';\n\n// ReactDOM.render(\nReacttDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"]}